  <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=true&amp;key=ABQIAAAA1xEBakGolsyyc10pbA9qZRRKxVyVDS-qPrThq1j3QzUP-op6yxScnW9Qouqumv97R-OJPWJpbxn7Wg" type="text/javascript"></script>

    <script type="text/javascript">
navigator.geolocation.getCurrentPosition(foundLocation, noLocation);
var lat;
var longi;
function foundLocation(position)
{
   lat = position.coords.latitude;
   longi = position.coords.longitude;
   alert('Found location: ' + lat + ', ' + longi);
}
function noLocation()
{
  alert('Could not find location');
}

function initialize(){




var map = new GMap2(document.getElementById("map_canvas"));
map.setCenter(new GLatLng(lat,longi), 13);

// Add 10 markers to the map at random locations
var bounds = map.getBounds();
var southWest = bounds.getSouthWest();
var northEast = bounds.getNorthEast();
var lngSpan = northEast.lng() - southWest.lng();
var latSpan = northEast.lat() - southWest.lat();
//for (var i = 0; i < 10; i++) {
  var point = new GLatLng(lat,longi);
map.addOverlay(new GMarker(point));





//}
}





   
    </script>

  <div id="map_canvas" style="width: 500px; height: 300px"></div>

  <%javascript_tag do %>
initialize();
  <%end%>
